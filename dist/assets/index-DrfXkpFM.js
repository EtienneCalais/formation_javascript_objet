var N=Object.defineProperty;var O=(n,e,t)=>e in n?N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var l=(n,e,t)=>O(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();class y{constructor(e){this.name=e,this.isEdit=!1}}l(y,"name"),l(y,"isEdit");class h{constructor(e){e.jour&&(this.jour=e.jour),e.toDo?this.toDo=e.toDo:this.toDo=[],e.isDone?this.isDone=e.isDone:this.isDone=[],e.isDelete?this.isDelete=e.isDelete:this.isDelete=[]}addToDo(e){const t=new y(e);return!this.getToDoTache(e)&&!this.getIsDoneTache(e)&&!this.getIsDeleteTache(e)?(this.toDo.push(t),!0):(alert("Tâche existante"),!1)}getToDoAll(){return this.toDo}getToDoTache(e){for(let t=0;t<this.toDo.length;t++)if(this.toDo[t].name===e)return this.toDo[t];return!1}delToDo(e){for(let t=0;t<this.toDo.length;t++)this.toDo[t].name===e&&this.toDo.splice(t,1)}addIsDone(e){const t=new y(e);this.isDone.push(t)}getIsDoneAll(){return this.isDone}getIsDoneTache(e){for(let t=0;t<this.isDone.length;t++)if(this.isDone[t].name===e)return this.isDone[t];return!1}delIsDone(e){for(let t=0;t<this.isDone.length;t++)this.isDone[t].name===e&&this.isDone.splice(t,1)}addIsDelete(e){const t=new y(e);this.isDelete.push(t)}getIsDeleteAll(){return this.isDelete}getIsDeleteTache(e){for(let t=0;t<this.isDelete.length;t++)if(this.isDelete[t].name===e)return this.isDelete[t];return!1}delIsDelete(e){for(let t=0;t<this.isDelete.length;t++)this.isDelete[t].name===e&&this.isDelete.splice(t,1)}}l(h,"day"),l(h,"toDo",[]),l(h,"isDone",[]),l(h,"isDelete",[]);class m{constructor(e){if(e.monday){const t=new h(e.monday);this.monday=t}if(e.tuesday){const t=new h(e.tuesday);this.tuesday=t}if(e.wednesday){const t=new h(e.wednesday);this.wednesday=t}if(e.thursday){const t=new h(e.thursday);this.thursday=t}if(e.friday){const t=new h(e.friday);this.friday=t}if(e.saturday){const t=new h(e.saturday);this.saturday=t}if(e.sunday){const t=new h(e.sunday);this.sunday=t}}addTaskDay(e){if(e.day)switch(e.day){case"Lundi":return this.monday=e,!0;case"Mardi":return this.tuesday=e,!0;case"Mercredi":return this.wednesday=e,!0;case"Jeudi":return this.thursday=e,!0;case"Vendredi":return this.friday=e,!0;case"Samedi":return this.saturday=e,!0;case"Dimanche":return this.sunday=e,!0;default:return!1}else return!1}getTaskDay(e){switch(e){case"Lundi":return this.monday;case"Mardi":return this.tuesday;case"Mercredi":return this.wednesday;case"Jeudi":return this.thursday;case"Vendredi":return this.friday;case"Samedi":return his.saturday;case"Dimanche":return this.sunday;default:return!1}}delTaskDay(e){if(e.day)switch(e.day){case"Lundi":return this.monday=null,!0;case"Mardi":return this.tuesday=null,!0;case"Mercredi":return this.wednesday=null,!0;case"Jeudi":return this.thursday=null,!0;case"Vendredi":return this.friday=null,!0;case"Samedi":return this.saturday=null,!0;case"Dimanche":return this.sunday=null,!0;default:return!1}else return!1}}l(m,"monday"),l(m,"tuesday"),l(m,"wednesday"),l(m,"thursday"),l(m,"friday"),l(m,"saturday"),l(m,"sunday");class g{constructor(e){e.login?(this.login=e.login,e.actif?this.actif=!0:this.actif=!1,e.tachesSemaine?this.tachesSemaine=new m(e.tachesSemaine):(this.tachesSemaine=new m({monday:{jour:"Lundi"},sunday:{jour:"Dimanche"},tuesday:{jour:"Mardi"},wednesday:{jour:"Mercredi"},thursday:{jour:"Jeudi"},friday:{jour:"Vendredi"},saturday:{jour:"Samedi"}}),console.log(this.tachesSemaine))):e&&(this.login=e,this.actif=!1,this.tachesSemaine=new m({monday:{jour:"Lundi"},sunday:{jour:"Dimanche"},tuesday:{jour:"Mardi"},wednesday:{jour:"Mercredi"},thursday:{jour:"Jeudi"},friday:{jour:"Vendredi"},saturday:{jour:"Samedi"}}))}match(e){return e===this.login}addTaskDay(e){return this.tachesSemaine.addTaskDay(e)}getTaskDay(e){return this.tachesSemaine.getTaskDay(e)}delTaskDay(e){return this.tachesSemaine.delTaskDay(e)}}l(g,"login"),l(g,"tachesSemaine"),l(g,"actif");class C{constructor(){this.info={utilisateurs:[]}}getInfoG(){return this.info}addPersonne(e){let t=!1;for(let s=0;s<this.info.utilisateurs.length;s++)if(this.info.utilisateurs[s].match(e)){t=!0;break}if(t)alert("Type de tâche existante");else{const s=new g(e);return this.info.utilisateurs.push(s),s}}getPersonne(e){for(let t=0;t<this.info.utilisateurs.length;t++)if(this.info.utilisateurs[t].match(e))return this.info.utilisateurs[t];return!1}setActifPersonne(e){for(let t=0;t<this.info.utilisateurs.length;t++)this.info.utilisateurs[t].match(e)?this.info.utilisateurs[t].actif=!0:this.info.utilisateurs[t].actif=!1;return!1}getActifPersonne(){for(let e=0;e<this.info.utilisateurs.length;e++)if(this.info.utilisateurs[e].actif=!0)return this.info.utilisateurs[e].login;return!1}getAllPersonne(){return this.info.utilisateurs}delPersonne(e){for(let t=0;t<this.info.utilisateurs.length;t++)this.info.utilisateurs[t].match(e)&&this.info.utilisateurs.splice(t,1);return!1}addTaskDay(e,t){return this.getPersonne(e).addTaskDay(t)}getTaskDay(e,t){return this.getPersonne(e).getTaskDay(t)}delTaskDay(e,t){return this.getPersonne(e).delTaskDay(t)}addTaskDayToDo(e,t,s){return this.getTaskDay(e,t).addToDo(s)}getaskDayToDo(e,t){return this.getTaskDay(e,t).getToDoAll()}getToDo(e,t,s){return this.getTaskDay(e,t).getToDoTache(s)}delTaskDayToDo(e,t,s){return this.getTaskDay(e,t).delToDo(s)}addTaskDayIsDone(e,t,s){return this.getTaskDay(e,t).addIsDone(s)}getaskDayIsDone(e,t){return this.getTaskDay(e,t).getIsDoneAll()}getIsDone(e,t,s){return this.getTaskDay(e,t).getIsDoneTache(s)}delTaskDayIsDone(e,t,s){return this.getTaskDay(e,t).delIsDone(s)}addTaskDayIsDelete(e,t,s){return this.getTaskDay(e,t).addIsDelete(s)}getaskDayIsDelete(e,t){return this.getTaskDay(e,t).getIsDeleteAll()}getIsDelete(e,t,s){return this.getTaskDay(e,t).getIsDeleteTache(s)}delTaskDayIsDelete(e,t,s){return this.getTaskDay(e,t).delIsDelete(s)}}l(C,"info");var B=new C;function k(){return B}let a=k();const M=document.getElementById("input2");let r="",d="Lundi",f,I,v;const p=document.getElementById("ul0"),E=document.getElementById("ul1"),J=document.getElementById("form1"),j=document.getElementById("form2"),b=document.getElementById("input1"),L=document.getElementById("ul2"),S=document.getElementById("ul3"),w=document.getElementById("day-select"),V=()=>{const n=document.getElementById("div1");n.hidden=!1;const e=document.getElementById("div2");e.hidden=!1},c=()=>{f=a.getaskDayToDo(r,d),I=a.getaskDayIsDone(r,d),v=a.getaskDayIsDelete(r,d),ae(),se()};a=k();w.addEventListener("change",n=>{d=w.value,c()});J.addEventListener("submit",n=>{n.preventDefault();const e=b.value;b.value="",z(e)});j.addEventListener("submit",n=>{n.preventDefault();const e=M.value;r=e,a.addPersonne(e),V(),P(e),c()});const U=n=>{const e=document.createElement("li"),t=document.createElement("span"),s=document.createElement("p"),i=document.createElement("button");return i.textContent="Supprimer Utilisateur",i.addEventListener("click",o=>{o.stopPropagation(),Q(n)}),t.className="todo",s.textContent=n,e.className="ligne",e.addEventListener("click",o=>{P(n)}),e.append(t,s,i),e},R=n=>{const e=document.createElement("li"),t=document.createElement("span"),s=document.createElement("p");return t.className="todo done",s.textContent=n,e.className="ligne",e.addEventListener("click",i=>{P(n)}),e.append(t,s),e},q=n=>{const e=document.createElement("li"),t=document.createElement("span"),s=document.createElement("p"),i=document.createElement("button"),o=document.createElement("button"),u=document.createElement("button"),T=document.createElement("button");return u.textContent="Supprimer",T.textContent="Edit",i.textContent="Procrastiner",o.textContent="Avancer",u.addEventListener("click",D=>{D.stopPropagation(),H(n)}),T.addEventListener("click",D=>{D.stopPropagation(),x(n)}),i.addEventListener("click",D=>{D.stopPropagation(),$(n)}),o.addEventListener("click",D=>{D.stopPropagation(),W(n)}),t.className="todo",s.textContent=n,e.addEventListener("click",D=>{Z(n)}),e.append(t,s,o,i,T,u),e.className="ligne",e},F=n=>{const e=document.createElement("li"),t=document.createElement("input"),s=document.createElement("button"),i=document.createElement("button");return i.addEventListener("click",o=>{o.stopPropagation(),x(n)}),s.addEventListener("click",o=>{o.stopPropagation(),ee(n,t)}),t.type="text",t.value=n,s.textContent="Save",i.textContent="Cancel",e.append(t,i,s),e.className="ligneEdit",e},G=n=>{const e=document.createElement("li"),t=document.createElement("span"),s=document.createElement("p");return t.className="todo done",s.textContent=n,e.className="ligne",e.addEventListener("click",i=>{_(n)}),e.append(t,s),e},K=n=>{const e=document.createElement("li"),t=document.createElement("span"),s=document.createElement("p");t.className="todo done",s.textContent=n,e.className="ligne";const i=document.createElement("button");i.addEventListener("click",u=>{u.stopPropagation(),X(n)});const o=document.createElement("button");return o.addEventListener("click",u=>{u.stopPropagation(),Y(n)}),i.textContent="Restore",o.textContent="Corbeille",e.append(t,s,i,o),e},z=n=>{a.addTaskDayToDo(r,d,n),c()},P=n=>{a.setActifPersonne(n),r=n,console.log(r),c()},H=n=>{a.delTaskDayToDo(r,d,n),a.addTaskDayIsDelete(r,d,n),c()},Q=n=>{a.delPersonne(n),c()},X=n=>{a.delTaskDayIsDelete(r,d,n),a.addTaskDayToDo(r,d,n),c()},Y=n=>{a.delTaskDayIsDelete(r,d,n),c()},Z=n=>{a.delTaskDayToDo(r,d,n),a.addTaskDayIsDone(r,d,n),c()},_=n=>{a.delTaskDayIsDone(r,d,n),a.addTaskDayToDo(r,d,n),c()},x=n=>{a.getToDo(r,d,n).isEdit=!a.getToDo(r,d,n).isEdit,c()},$=n=>{a.addTaskDayToDo(r,te(d),n)&&a.delTaskDayToDo(r,d,n),c()},W=n=>{a.addTaskDayToDo(r,ne(d),n)&&a.delTaskDayToDo(r,d,n),c()},ee=(n,e)=>{const t=e.value;a.getToDo(r,d,n).name=t,a.getToDo(r,d,t).isEdit=!a.getToDo(r,d,t).isEdit,c()};setInterval(()=>{const n=JSON.stringify(k());localStorage.setItem("TODODATA",n)},2e3);const te=n=>{switch(n){case"Lundi":return"Mardi";case"Mardi":return"Mercredi";case"Mercredi":return"Jeudi";case"Jeudi":return"Vendredi";case"Vendredi":return"Samedi";case"Samedi":return"Diamnche";case"Diamnche":return"Lundi";default:return"Lundi"}},ne=n=>{switch(n){case"Mercredi":return"Mardi";case"Jeudi":return"Mercredi";case"Vendredi":return"Jeudi";case"Samedi":return"Vendredi";case"Diamnche":return"Samedi";case"Lundi":return"Diamnche";case"Mardi":return"Lundi";default:return"Lundi"}},se=()=>{p.textContent="";for(let n=0;n<a.getAllPersonne().length;n++)if(a.getAllPersonne()[n].actif){p.append(R(a.getAllPersonne()[n].login));break}for(let n=0;n<a.getAllPersonne().length;n++)a.getAllPersonne()[n].actif||p.append(U(a.getAllPersonne()[n].login))},ae=()=>{E.textContent="";for(let n=0;n<f.length;n++)f[n].isEdit?E.append(F(f[n].name)):E.append(q(f[n].name));L.textContent="";for(let n=0;n<I.length;n++)L.append(G(I[n].name));S.textContent="";for(let n=0;n<v.length;n++)S.append(K(v[n].name))},A=()=>{const n=document.getElementById("div1");n.hidden=!0;const e=document.getElementById("div2");e.hidden=!0};if(localStorage.getItem("TODODATA")){let n=JSON.parse(localStorage.getItem("TODODATA")),e=n.info.utilisateurs.length;if(e>0){for(let t=0;t<e;t++)a.addPersonne(n.info.utilisateurs[t]);r=a.getActifPersonne(),M.value=r,c()}else A()}else A();
